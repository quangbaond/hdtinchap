const L=document.querySelectorAll(".slider-wrapper"),a=document.querySelector(".ip-Money"),i=document.querySelector(".ip-Month"),c=document.querySelector("#ipRangMoney"),s=document.querySelector("#ipRangMonth");document.querySelector(".tile");const p=document.querySelector(".numberMoney"),m=document.querySelector(".txt-money"),r=document.querySelector(".price"),y=document.querySelector(".thang"),l=document.querySelector(".numberMonth"),f=document.querySelector(".btn-vay");L.forEach(n=>{const e=n.querySelector(".slider-input"),o=+e.min||0,v=+e.max||100,t=()=>{n.style.setProperty("--slider-value",100*+e.value/(v-o))};e.addEventListener("input",()=>{t()}),t()});p.innerHTML=a.value;a.addEventListener("input",function(){p.innerHTML=d(a.value),r.innerHTML=a.value,u()},!1);l.innerHTML=i.value;i.addEventListener("input",function(){l.innerHTML=i.value,y.innerHTML=i.value,u()},!1);function d(n){var e=Number(n);return e=e.toLocaleString("it-IT",{style:"currency",currency:"VND"}),e}function u(){let n=0,e=parseFloat(r.textContent),o=parseFloat(y.textContent),v={term:o};$.ajax({type:"GET",url:"https://hdtinchap.com/api/get-loan-by-term",data:v,beforeSend:function(){},success:function(t){if(!t.status){console.log(t);return}if(t.data){let M=parseFloat(t.data.rate);e!=0&&o!=0&&M!=0?(n=e*M/100+e/o,m.innerHTML=d(n)):m.innerHTML="0 VND"}},error:function(t){console.log(t)}})}const T=document.querySelector(".btn-plus-money button");T.addEventListener("click",function(){const n=c.style.getPropertyValue("--slider-value");if(n>=0&&n<100){c.style.setProperty("--slider-value",parseInt(n)+1);var e=parseInt(r.innerHTML)+1e6;r.innerHTML=e,p.innerHTML=d(e),u()}});const H=document.querySelector(".btn-minus-money button");H.addEventListener("click",function(){const n=c.style.getPropertyValue("--slider-value");if(n>0&&n<=100){c.style.setProperty("--slider-value",parseInt(n)-1);var e=parseInt(r.innerHTML)-1e6;r.innerHTML=e,p.innerHTML=d(e),u()}});const b=document.querySelector(".btn-minus-month button");b.addEventListener("click",function(){const n=s.style.getPropertyValue("--slider-value");if(n>0&&n<=100){s.style.setProperty("--slider-value",parseInt(n)-10);var e=parseInt(l.innerHTML)-6;y.innerHTML=e,l.innerHTML=e,u()}});const g=document.querySelector(".btn-plus-month button");g.addEventListener("click",function(){const n=s.style.getPropertyValue("--slider-value");if(n>=0&&n<100){s.style.setProperty("--slider-value",parseInt(n)+10);var e=parseInt(l.innerHTML)+6;y.innerHTML=e,l.innerHTML=e,u()}});f.addEventListener("click",function(n){n.preventDefault();const e=a.value,o=i.value;console.log("money: ",e),console.log("ipMonth: ",o),window.location.href=`/xac-nhan-khoan-vay?m=${e}&t=${o}`});
